
<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button color="secondary"></ion-menu-button>
    </ion-buttons>
    <ion-title>
        <ion-text color="light">
          <ion-text color="light" class="fw700">Class Teacher </ion-text>
        </ion-text>
    </ion-title>
  </ion-toolbar>
   
</ion-header>

<ion-content>
  <ion-card no-margin class="no-radius">
   
     
    <div [ngClass]="{'expanmap': checked==true,'collapsmap': checked==false}">
    <ion-item color="medium">  
      <ion-label class="input-info-label">Select Course</ion-label>  
      <ion-select [interfaceOptions]="customPopoverOptions" multiple="true"  interface="popover" placeholder="Select One" (ionChange)="changeCourse($event)">  
          <ion-select-option  [value]="course.id" *ngFor="let course of courseList">{{course.name}} </ion-select-option>  
          <!-- <ion-select-option  value="1">Nursary </ion-select-option>  
          <ion-select-option value="2">LKG</ion-select-option>  
          <ion-select-option value="3">UKG</ion-select-option>  
          <ion-select-option value="4">Grade I</ion-select-option>  
          <ion-select-option value="5">Grade II</ion-select-option>  
          <ion-select-option value="6">Grade III</ion-select-option>  
          <ion-select-option value="7">Grade IV</ion-select-option>  
          <ion-select-option value="8">Grade V</ion-select-option>  
          <ion-select-option value="9">Grade VI</ion-select-option>  
          <ion-select-option value="10">Grade VII</ion-select-option>  
          <ion-select-option value="11">Grade VIII</ion-select-option>  
          <ion-select-option value="12">Grade IX</ion-select-option>  
          <ion-select-option value="13">Grade X</ion-select-option>  
          <ion-select-option value="14">Grade XI</ion-select-option>  
          <ion-select-option value="15">Grade XII</ion-select-option>   -->
          
      </ion-select>  
    </ion-item> 
   
  </div>
  </ion-card>


  <!-- <ion-card *ngFor="let I of ctrl">
    <ion-item color="medium">  
<h4>{{I.course}}</h4>
</ion-item>
    <ion-card-header  *ngFor="let subitem of I.section">
        
      <ion-card-title>Subject</ion-card-title>
      <ion-card-subtitle>{{subitem.Section}}</ion-card-subtitle>
      <ion-card-title> Class Teacher</ion-card-title>
      <ion-card-subtitle>{{subitem.CurrentSubjectTeacher}}</ion-card-subtitle>
      <ion-card-title> Class Teacher History</ion-card-title>
      <ion-card-subtitle><p  *ngFor="let s of subitem.SubjectTeacherHistory">{{s.history}}</p></ion-card-subtitle>
     
    </ion-card-header>
  
  
  </ion-card> -->

  <!-- <ng-container *ngFor="let courseItem of courseList">
    <ion-item color="medium">  
      <h4>{{courseItem.course_group}}</h4>
    </ion-item>
    <ion-card *ngFor="let subCourse of courseItem.courses">
      <ion-item color="medium">  
  <h4>{{subCourse.name}}</h4>
  </ion-item>
      <ion-card-header  *ngFor="let subCourse of courseItem.courses">
          
        <ion-card-title>Subject</ion-card-title>
        <ion-card-subtitle>{{subCourse.name}}</ion-card-subtitle>
        <ion-card-title> Class Teacher</ion-card-title>
        <ion-card-subtitle>{{subitem.CurrentSubjectTeacher}}</ion-card-subtitle>
        <ion-card-title> Class Teacher History</ion-card-title>
        <ion-card-subtitle><p  *ngFor="let s of subitem.SubjectTeacherHistory">{{s.history}}</p></ion-card-subtitle>
       
      </ion-card-header>
    
    </ion-card>
  
  </ng-container> -->

  <ng-container *ngFor="let courseGroup of courseGroups">
    <ion-item color="medium">  
      <h4>{{courseGroup?.name}}</h4>
    </ion-item>
    <ion-card *ngFor="let course of courseGroup?.courses">
      <ion-item color="medium">  
        <h4>{{course?.name}}</h4>
      </ion-item>
      <ion-card-header  *ngFor="let batch of course?.batches">
        <ng-container *ngIf="batch?.batch_detail != undefined">
          <ion-card-title>Subject</ion-card-title>
          <ion-card-subtitle>{{course?.name+' '+ batch?.name}}</ion-card-subtitle>
          <ng-container *ngIf="batch?.batch_detail?.class_teachers != undefined && batch?.batch_detail?.class_teachers.length != 0">
            <ion-card-title > Class Teacher</ion-card-title>
            <ion-card-subtitle>{{batch?.batch_detail?.class_teachers[0]?.employee?.name}} ({{batch?.batch_detail?.class_teachers[0]?.employee?.employee_code}})</ion-card-subtitle>
          
            <ion-card-title> Class Teacher History</ion-card-title>
            <ion-card-subtitle><p  *ngFor="let teacher of batch?.batch_detail?.class_teachers">{{teacher?.employee?.name}} ({{teacher?.employee?.employee_code }}) from {{teacher.date_effective|date:'dd-MM-yyyy' }}</p></ion-card-subtitle>
          </ng-container>
        </ng-container>
        
      </ion-card-header>
    
    </ion-card>
  
  </ng-container>
  
  


</ion-content>
